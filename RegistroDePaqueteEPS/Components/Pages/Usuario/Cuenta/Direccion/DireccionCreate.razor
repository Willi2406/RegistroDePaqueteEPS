@page "/cuenta/direcciones/create"
@inject NavigationManager NavManager
@rendermode InteractiveServer

<SectionContent SectionName="TituloPagina">
    <h1>Cuenta : Crear direcciones </h1>
</SectionContent>

<div class="glass-container create-address-view">

    <div class="sub-nav-bar">
        <NavLink class="sub-nav-item" href="/cuenta">Perfil</NavLink>
        <div class="separator"></div>

        <NavLink class="sub-nav-item" href="/cuenta/direcciones">Direcciones</NavLink>
        <div class="separator"></div>

        <NavLink class="sub-nav-item active" href="/cuenta/autorizados">Autorizados</NavLink>
    </div>

    <div class="form-content">
        <h3 class="section-title">Nueva Dirección</h3>

        <EditForm Model="NuevaDireccion" OnValidSubmit="GuardarDireccion">
            <DataAnnotationsValidator />

            <div class="form-grid">
                <div class="input-group">
                    <label>Alias (Ej: Casa, Oficina)</label>
                    <InputText @bind-Value="NuevaDireccion.Alias" class="input-box" placeholder="Nombre de la dirección" />
                </div>
                <div class="input-group">
                    <label>Destinatario</label>
                    <InputText @bind-Value="NuevaDireccion.Destinatario" class="input-box" placeholder="Quién recibe" />
                </div>

                <div class="input-group">
                    <label>Calle</label>
                    <InputText @bind-Value="NuevaDireccion.Calle" class="input-box" placeholder="Calle Principal" />
                </div>
                <div class="input-group">
                    <label>Número</label>
                    <InputText @bind-Value="NuevaDireccion.Numero" class="input-box" placeholder="#123" />
                </div>

                <div class="input-group">
                    <label>Sector</label>
                    <InputText @bind-Value="NuevaDireccion.Sector" class="input-box" placeholder="Sector" />
                </div>
                <div class="input-group">
                    <label>Ciudad</label>
                    <InputText @bind-Value="NuevaDireccion.Ciudad" class="input-box" placeholder="Ciudad" />
                </div>

                <div class="input-group">
                    <label>Provincia</label>
                    <InputText @bind-Value="NuevaDireccion.Provincia" class="input-box" placeholder="Provincia" />
                </div>
                <div class="input-group">
                    <label>Teléfono</label>
                    <InputText @bind-Value="NuevaDireccion.Telefono" class="input-box" placeholder="809-000-0000" />
                </div>
            </div>

            <div class="options-row">

                <div class="input-group small-width">
                    <label>Tipo</label>
                    <InputSelect @bind-Value="NuevaDireccion.Tipo" class="input-box">
                        <option value="Casa">Casa</option>
                        <option value="Trabajo">Trabajo</option>
                        <option value="Otro">Otro</option>
                    </InputSelect>
                </div>

                <div class="checkbox-group">
                    <label class="switch">
                        <InputCheckbox @bind-Value="NuevaDireccion.EsPrincipal" />
                        <span class="slider round"></span>
                    </label>
                    <span class="checkbox-label">Dirección Principal</span>
                </div>
            </div>

            <div class="action-buttons">
                <button type="button" class="btn-cancel" @onclick="Cancelar">Cancelar</button>
                <button type="submit" class="btn-save">Guardar</button>
            </div>

        </EditForm>
    </div>

</div>

@code {
    // Modelo para el formulario
    public class DireccionForm
    {
        public string Alias { get; set; }
        public string Destinatario { get; set; }
        public string Calle { get; set; }
        public string Numero { get; set; }
        public string Sector { get; set; }
        public string Ciudad { get; set; }
        public string Provincia { get; set; }
        public string Telefono { get; set; }
        public string Tipo { get; set; } = "Casa";
        public bool EsPrincipal { get; set; }
    }

    public DireccionForm NuevaDireccion { get; set; } = new DireccionForm();

    private void GuardarDireccion()
    {
        // Aquí iría la llamada a tu servicio para guardar
        // await direccionService.Guardar(NuevaDireccion);
        NavManager.NavigateTo("/cuenta/direcciones");
    }

    private void Cancelar()
    {
        NavManager.NavigateTo("/cuenta/direcciones");
    }
}